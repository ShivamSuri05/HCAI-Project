<div id="train-model-section">
  <h3>Train a Model</h3>
  <form id="train-model-form" method="post">
    {% csrf_token %}
    <div>
    <label for="model_type">Select Model:</label>
    <select id="model_type" name="model_type" required>
      <option value="" disabled selected>Select a model</option>
      <option value="linear_regression">Linear Regression</option>
      <option value="logistic_regression">Logistic Regression</option>
      <option value="random_forest">Random Forest</option>
    </select>
    <br><br>

    <label for="test_size">Test Size (e.g., 0.2 for 20%):</label>
    <input type="number" step="0.01" min="0.1" max="0.9" name="test_size" value="0.2" required>
    </div>

    <!-- Advanced Parameters Toggle -->
<button type="button" id="toggle-advanced">Advanced Parameters</button>

<!-- Advanced Parameters (Initially Hidden) -->
<div id="advanced-params" style="display: none;">

  <div id="rand_state" class="model-params" style="display: none;">
  <label for="random_state">Random State:</label>
    <input type="number" name="random_state" value="42">
    </div>

  <!-- Linear Regression Parameters -->
  <div id="linear-params" class="model-params" style="display: none;">
    <label>
      <input type="checkbox" name="fit_intercept" id="fit_intercept" checked>
      Include Intercept
    </label>
  </div>

  <!-- Logistic Regression Parameters -->
  <div id="logistic-params" class="model-params" style="display: none;">
    <label for="regularization_type">Regularization Type:</label>
    <select name="regularization_type" id="regularization_type">
      <option value="l2">L2</option>
      <option value="l1">L1</option>
      <option value="elasticnet">ElasticNet</option>
      <option value="none">None</option>
    </select>

    <br><br>
    <label for="regularization_strength">Regularization Strength (C):</label>
    <input type="number" id="regularization_strength" name="regularization_strength" value="1.0" step="0.01" min="0.01">
  </div>

  <!-- Random Forest Parameters -->
  <div id="rf_advanced_params" class="model-params" style="display:none; margin-top: 10px;">
  <label for="n_estimators">Number of Trees (n_estimators):</label>
  <input type="number" id="n_estimators" name="n_estimators" min="10" max="500" value="100">
  <br><br>

  <label for="max_depth">Max Depth:</label>
  <input type="number" id="max_depth" name="max_depth" min="1" max="50" value="">
  <small>(Leave empty for no limit)</small>
  <br><br>

  <label for="min_samples_split">Min Samples Split:</label>
  <input type="number" id="min_samples_split" name="min_samples_split" min="2" max="10" value="2">
  <br><br>

  <label for="min_samples_leaf">Min Samples Leaf:</label>
  <input type="number" id="min_samples_leaf" name="min_samples_leaf" min="1" max="10" value="1">
</div>

</div>

    <button type="submit">Train Model</button>
  </form>
</div>
